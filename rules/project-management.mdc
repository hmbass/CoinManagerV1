---
globs: Makefile,Dockerfile,docker-compose.yml,README.md
description: Project management, deployment and documentation standards
---

# í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° ë°°í¬ í‘œì¤€

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° í‘œì¤€

```
CoinManagerV1/
â”œâ”€â”€ .env.example                 # í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ .gitignore                   # Git ì œì™¸ íŒŒì¼
â”œâ”€â”€ Dockerfile                   # Docker ì´ë¯¸ì§€ ë¹Œë“œ
â”œâ”€â”€ Makefile                     # ê°œë°œ/ë°°í¬ ëª…ë ¹ì–´
â”œâ”€â”€ README.md                    # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ pyproject.toml              # Python í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ config.yaml             # ì‹œìŠ¤í…œ ì„¤ì •
â”œâ”€â”€ runtime/                    # ì‹¤í–‰ ì‹œ ìƒì„±ë˜ëŠ” íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ logs/                   # ë¡œê·¸ íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ trading.log
â”‚   â”‚   â”œâ”€â”€ error.log
â”‚   â”‚   â””â”€â”€ debug.log
â”‚   â”œâ”€â”€ reports/                # ì¼ì¼/ì£¼ê°„ ë¦¬í¬íŠ¸
â”‚   â”‚   â”œâ”€â”€ daily_20240101.json
â”‚   â”‚   â””â”€â”€ weekly_20240101.json
â”‚   â””â”€â”€ data/                   # ìºì‹œëœ ë°ì´í„°
â”‚       â”œâ”€â”€ candles/
â”‚       â””â”€â”€ markets/
â”œâ”€â”€ src/                        # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ app.py                  # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ api/                    # ì™¸ë¶€ API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ data/                   # ë°ì´í„° ì²˜ë¦¬
â”‚   â”œâ”€â”€ scanner/                # ì¢…ëª© ìŠ¤ìº”
â”‚   â”œâ”€â”€ signals/                # ì‹ í˜¸ ìƒì„±
â”‚   â”œâ”€â”€ risk/                   # ë¦¬ìŠ¤í¬ ê´€ë¦¬
â”‚   â”œâ”€â”€ order/                  # ì£¼ë¬¸ ì‹¤í–‰
â”‚   â””â”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ tests/                      # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ fixtures/
â”‚   â””â”€â”€ conftest.py
â””â”€â”€ scripts/                    # ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸
    â”œâ”€â”€ server-manager.sh       # ì„œë²„ ê´€ë¦¬ (rules/server.mdc ì¤€ìˆ˜)
    â”œâ”€â”€ backup.sh              # ë°ì´í„° ë°±ì—…
    â””â”€â”€ deploy.sh              # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
```

## ğŸ› ï¸ Makefile í‘œì¤€ ëª…ë ¹ì–´

```make
# ê¸°ë³¸ ì„¤ì •
.DEFAULT_GOAL := help
PYTHON := python3.11
PIP := pip
VENV := .venv

# ë„ì›€ë§ í‘œì‹œ
help:  ## ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ í‘œì‹œ
	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | sort | awk 'BEGIN {FS = ":.*?## "}; {printf "\033[36m%-20s\033[0m %s\n", $$1, $$2}'

# ê°œë°œ í™˜ê²½ ì„¤ì •
setup: ## ê°œë°œ í™˜ê²½ ì´ˆê¸° ì„¤ì •
	$(PYTHON) -m venv $(VENV)
	$(VENV)/bin/pip install --upgrade pip
	$(VENV)/bin/pip install -e .[dev]
	cp .env.example .env
	mkdir -p runtime/logs runtime/reports runtime/data

install: ## ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜
	$(VENV)/bin/pip install -e .[dev]

# ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬
format: ## ì½”ë“œ í¬ë§¤íŒ… (black + isort)
	$(VENV)/bin/black src tests
	$(VENV)/bin/isort src tests

lint: ## ì½”ë“œ ê²€ì‚¬ (flake8 + mypy)
	$(VENV)/bin/flake8 src tests
	$(VENV)/bin/mypy src

check: format lint ## ì „ì²´ ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
test: ## ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
	$(VENV)/bin/pytest tests/ -v

test-unit: ## ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
	$(VENV)/bin/pytest tests/unit/ -v

test-integration: ## í†µí•© í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
	$(VENV)/bin/pytest tests/integration/ -v

test-cov: ## ì»¤ë²„ë¦¬ì§€ í¬í•¨ í…ŒìŠ¤íŠ¸
	$(VENV)/bin/pytest tests/ -v --cov=src --cov-report=html

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
scan: ## ì¢…ëª© ìŠ¤ìº” ì‹¤í–‰
	$(VENV)/bin/python -m src.app scan

run-paper: ## í˜ì´í¼ íŠ¸ë ˆì´ë”© ì‹¤í–‰
	$(VENV)/bin/python -m src.app run --paper

run-live: ## âš ï¸ ì‹¤ê±°ë˜ ì‹¤í–‰ (í™•ì¸ í•„ìš”)
	@echo "âš ï¸  ì‹¤ê±°ë˜ ëª¨ë“œì…ë‹ˆë‹¤. ì •ë§ ì‹¤í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? [y/N]"
	@read -r response; \
	if [ "$$response" = "y" ] || [ "$$response" = "Y" ]; then \
		$(VENV)/bin/python -m src.app run --live; \
	else \
		echo "ì‹¤ê±°ë˜ ì‹¤í–‰ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤."; \
	fi

backtest: ## ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
	$(VENV)/bin/python -m src.app backtest --start=2024-01-01 --end=2024-01-31

# ì„œë²„ ê´€ë¦¬ (server.mdc ê·œì¹™ ì¤€ìˆ˜)
server-start: ## ì„œë²„ ì‹œì‘
	./scripts/server-manager.sh start

server-stop: ## ì„œë²„ ì¤‘ì§€
	./scripts/server-manager.sh stop

server-restart: ## ì„œë²„ ì¬ì‹œì‘
	./scripts/server-manager.sh restart

server-status: ## ì„œë²„ ìƒíƒœ í™•ì¸
	./scripts/server-manager.sh status

server-logs: ## ì„œë²„ ë¡œê·¸ í™•ì¸
	./scripts/server-manager.sh logs all

# Docker ê´€ë ¨
docker-build: ## Docker ì´ë¯¸ì§€ ë¹Œë“œ
	docker build -t upbit-trading:latest .

docker-run-paper: ## Dockerë¡œ í˜ì´í¼ íŠ¸ë ˆì´ë”© ì‹¤í–‰
	docker run --rm -it \
		-v $(PWD)/runtime:/app/runtime \
		-v $(PWD)/.env:/app/.env \
		upbit-trading:latest run --paper

docker-compose-up: ## Docker Composeë¡œ ì „ì²´ ì‹œìŠ¤í…œ ì‹œì‘
	docker-compose up -d

docker-compose-down: ## Docker Compose ì‹œìŠ¤í…œ ì¤‘ì§€
	docker-compose down

# ë°ì´í„° ê´€ë¦¬
backup: ## ë°ì´í„° ë°±ì—…
	./scripts/backup.sh

restore: ## ë°ì´í„° ë³µì›
	./scripts/restore.sh $(BACKUP_FILE)

clean-logs: ## ì˜¤ë˜ëœ ë¡œê·¸ íŒŒì¼ ì •ë¦¬
	find runtime/logs -name "*.log" -mtime +30 -delete

# ë°°í¬ ê´€ë¦¬
deploy-staging: ## ìŠ¤í…Œì´ì§• í™˜ê²½ ë°°í¬
	./scripts/deploy.sh staging

deploy-prod: ## í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬
	./scripts/deploy.sh production

# ìœ í‹¸ë¦¬í‹°
clean: ## ì„ì‹œ íŒŒì¼ ì •ë¦¬
	rm -rf __pycache__ .pytest_cache .coverage htmlcov
	find . -name "*.pyc" -delete
	find . -name "__pycache__" -type d -exec rm -rf {} +

requirements: ## requirements.txt ì—…ë°ì´íŠ¸
	$(VENV)/bin/pip freeze > requirements.txt

check-deps: ## ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬
	$(VENV)/bin/pip audit

.PHONY: help setup install format lint check test test-unit test-integration test-cov
.PHONY: scan run-paper run-live backtest server-start server-stop server-restart
.PHONY: server-status server-logs docker-build docker-run-paper docker-compose-up
.PHONY: docker-compose-down backup restore clean-logs deploy-staging deploy-prod
.PHONY: clean requirements check-deps
```

## ğŸ“ README.md í‘œì¤€ êµ¬ì¡°

```markdown
# Upbit Day-Trade Automator (UDA)

ì—…ë¹„íŠ¸ ê³µê°œ APIë¥¼ ì´ìš©í•œ ê·œì¹™ ê¸°ë°˜ ë‹¨íƒ€ ìë™ë§¤ë§¤ ì‹œìŠ¤í…œ

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

- **ëª©í‘œ**: ë§¤ì¼ 2~3ê°œ ì¢…ëª© ì„ ë³„ â†’ ê·œì¹™ ê¸°ë°˜ ë‹¨íƒ€ ì§„ì…/ì²­ì‚° â†’ ì†ì‹¤ ì œí•œ ë° ë¡œê·¸Â·ë¦¬í¬íŒ… ìë™í™”
- **ì² í•™**: "ë§¤ì¼ ê³ ì • ìˆ˜ìµ"ì´ ì•„ë‹Œ **ê¸°ëŒ€ê°’(Expectancy) ê·¹ëŒ€í™”**ì™€ **ì†ì‹¤ í•œë„ ì¤€ìˆ˜**
- **ë²”ìœ„**: í˜„ë¬¼ ê±°ë˜ ìœ„ì£¼ (ì„ ë¬¼/ë ˆë²„ë¦¬ì§€ ì œì™¸)
- **ì‹œê°„ëŒ€**: Asia/Seoul(KST) ê³ ì •, ì£¼ìš” ì‹¤í–‰ ì°½ 09:10â€“13:00, 17:10â€“19:00

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì„¤ì •
```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd CoinManagerV1

# 2. ê°œë°œ í™˜ê²½ ì„¤ì •
make setup

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ ì—…ë¹„íŠ¸ API í‚¤ ì…ë ¥

# 4. ì„¤ì • íŒŒì¼ í™•ì¸
vim configs/config.yaml
```

### 2. ê¸°ë³¸ ì‚¬ìš©ë²•
```bash
# ì¢…ëª© ìŠ¤ìº” (Top 2~3 í›„ë³´ í™•ì¸)
make scan

# í˜ì´í¼ íŠ¸ë ˆì´ë”© ì‹¤í–‰ (ì•ˆì „í•œ ëª¨ì˜ê±°ë˜)
make run-paper

# ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
make backtest
```

## ğŸ“Š ì£¼ìš” ê¸°ëŠ¥

### 1. ìŠ¤ë§ˆíŠ¸ ìŠ¤ìº” ì‹œìŠ¤í…œ
- **RVOL**: ìµœê·¼ 5ë¶„ ê±°ë˜ëŸ‰ Ã· ê³¼ê±° 5ë¶„ í‰ê·  ê±°ë˜ëŸ‰
- **ìƒëŒ€ê°•ë„(RS)**: ì¢…ëª© ìˆ˜ìµë¥  âˆ’ BTC ìˆ˜ìµë¥   
- **ì„¸ì…˜ VWAP**: ë‹¹ì¼ ê±°ë˜ëŸ‰ ê°€ì¤‘ í‰ê· ê°€
- **ìŠ¤ì½”ì–´ë§**: `0.4Ã—RS + 0.3Ã—RVOL_Z + 0.2Ã—Trend + 0.1Ã—Depth`

### 2. ì‹ í˜¸ ìƒì„± ì „ëµ
- **ORB ëŒíŒŒ**: ì‹œì´ˆ 60ë¶„(09:00â€“10:00) ê³ /ì € ë°•ìŠ¤ ëŒíŒŒ
- **sVWAP ë˜ëŒë¦¼**: VWAP ê·¼ì²˜ ë°˜ì „ ë§¤ìˆ˜
- **ìœ ë™ì„± ìŠ¤ìœ•**: ìŠ¤ìœ™ ë ˆë²¨ ì§§ì€ ê´€í†µ í›„ ë°˜ì „

### 3. ë¦¬ìŠ¤í¬ ê´€ë¦¬
- **í¬ì§€ì…˜ í¬ê¸°**: 1íšŒ ê±°ë˜ ì†ì‹¤ 0.3~0.5% ì œí•œ
- **ì¼ì†ì‹¤ í•œë„**: -1% ë„ë‹¬ ì‹œ ë‹¹ì¼ ì¤‘ë‹¨
- **ì—°ì† ì†ì ˆ**: 2íšŒ ì‹œ í•´ë‹¹ ì¢…ëª© ê¸ˆì¼ ê±°ë˜ ê¸ˆì§€

## ğŸ› ï¸ ê°œë°œ ë„êµ¬

### ì½”ë“œ í’ˆì§ˆ
```bash
make format    # ì½”ë“œ í¬ë§¤íŒ…
make lint      # ì½”ë“œ ê²€ì‚¬  
make check     # ì „ì²´ í’ˆì§ˆ ê²€ì‚¬
```

### í…ŒìŠ¤íŠ¸
```bash
make test           # ì „ì²´ í…ŒìŠ¤íŠ¸
make test-unit      # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
make test-cov       # ì»¤ë²„ë¦¬ì§€ í…ŒìŠ¤íŠ¸
```

### ì„œë²„ ê´€ë¦¬
```bash
make server-start   # ì„œë²„ ì‹œì‘
make server-status  # ìƒíƒœ í™•ì¸
make server-logs    # ë¡œê·¸ í™•ì¸
make server-stop    # ì„œë²„ ì¤‘ì§€
```

## ğŸ“ˆ ì‚¬ìš© í¬íŠ¸

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì„¤ëª… |
|--------|------|------|
| Backend API | 8000 | ë©”ì¸ API ì„œë²„ |
| WebSocket | 8001 | ì‹¤ì‹œê°„ ë°ì´í„° |
| Dashboard | 3000 | ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ |

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
CoinManagerV1/
â”œâ”€â”€ src/               # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ api/          # Upbit API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ data/         # ë°ì´í„° ì²˜ë¦¬ ë° í”¼ì²˜ ê³„ì‚°
â”‚   â”œâ”€â”€ scanner/      # ì¢…ëª© ìŠ¤ìº” ë° í›„ë³´ ì„ ë³„
â”‚   â”œâ”€â”€ signals/      # ë§¤ë§¤ ì‹ í˜¸ ìƒì„±
â”‚   â”œâ”€â”€ risk/         # ë¦¬ìŠ¤í¬ ê´€ë¦¬
â”‚   â”œâ”€â”€ order/        # ì£¼ë¬¸ ì‹¤í–‰
â”‚   â””â”€â”€ utils/        # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ configs/          # ì„¤ì • íŒŒì¼
â”œâ”€â”€ runtime/          # ì‹¤í–‰ ì‹œ ìƒì„± íŒŒì¼
â”‚   â”œâ”€â”€ logs/         # ë¡œê·¸ íŒŒì¼
â”‚   â””â”€â”€ reports/      # ê±°ë˜ ë¦¬í¬íŠ¸
â””â”€â”€ tests/            # í…ŒìŠ¤íŠ¸ ì½”ë“œ
```

## ğŸ”§ ì„¤ì • íŒŒì¼

### config.yaml ì£¼ìš” ì„¤ì •
```yaml
scanner:
  rvol_threshold: 2.0      # RVOL ì„ê³„ê°’
  spread_bp_max: 5         # ìµœëŒ€ ìŠ¤í”„ë ˆë“œ (bp)
  
risk:
  per_trade_risk_pct: 0.004   # 1íšŒ ê±°ë˜ ìœ„í—˜ë„ (0.4%)
  daily_drawdown_stop_pct: 0.01  # ì¼ì†ì‹¤ í•œë„ (-1%)

runtime:
  session_windows:
    - "09:10-13:00"     # 1ì°¨ ê±°ë˜ ì„¸ì…˜
    - "17:10-19:00"     # 2ì°¨ ê±°ë˜ ì„¸ì…˜
```

## ğŸš¨ ì¤‘ìš” ì£¼ì˜ì‚¬í•­

1. **í˜ì´í¼ ëª¨ë“œ ìš°ì„ **: ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ ì—†ì´ ì‹¤ê±°ë˜ ê¸ˆì§€
2. **API ë ˆì´íŠ¸ ë¦¬ë°‹**: ì—…ë¹„íŠ¸ API ì œí•œ ì¤€ìˆ˜
3. **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: ì„¤ì •ëœ ì†ì‹¤ í•œë„ ì ˆëŒ€ ì¤€ìˆ˜
4. **ë°±ì—…**: ì¤‘ìš” ë°ì´í„°ëŠ” ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…
5. **ëª¨ë‹ˆí„°ë§**: ì‹¤í–‰ ì¤‘ ì§€ì†ì ì¸ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ í•„ìˆ˜

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¦¬í¬íŒ…

- **ì‹¤ì‹œê°„ ë¡œê·¸**: `runtime/logs/trading.log`
- **ì¼ì¼ ë¦¬í¬íŠ¸**: `runtime/reports/daily_YYYYMMDD.json`
- **ì—ëŸ¬ ë¡œê·¸**: `runtime/logs/error.log`

## ğŸ¤ ê¸°ì—¬ ë°©ë²•

1. ì´ìŠˆ ë“±ë¡ ë° ë…¼ì˜
2. ë¸Œëœì¹˜ ìƒì„± (`feature/new-feature`)
3. ì½”ë“œ ì‘ì„± ë° í…ŒìŠ¤íŠ¸
4. PR ìƒì„± ë° ë¦¬ë·°

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License - ìƒì„¸ ë‚´ìš©ì€ LICENSE íŒŒì¼ ì°¸ê³ 

## ğŸ†˜ ì§€ì› ë° ë¬¸ì˜

- GitHub Issues: ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ìš”ì²­
- ë¬¸ì„œ: requirement.md ì°¸ê³ 
```

## ğŸ³ Docker ì„¤ì •

### Dockerfile
```dockerfile
FROM python:3.11-slim

WORKDIR /app

# ì‹œìŠ¤í…œ ì˜ì¡´ì„± ì„¤ì¹˜
RUN apt-get update && apt-get install -y \
    gcc \
    g++ \
    && rm -rf /var/lib/apt/lists/*

# Python ì˜ì¡´ì„± ì„¤ì¹˜
COPY pyproject.toml ./
RUN pip install --no-cache-dir .

# ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬
COPY src/ ./src/
COPY configs/ ./configs/

# ì‹¤í–‰ ì‹œ ìƒì„±ë  ë””ë ‰í† ë¦¬ ìƒì„±
RUN mkdir -p runtime/logs runtime/reports runtime/data

# ë¹„root ì‚¬ìš©ì ìƒì„±
RUN useradd -m -u 1000 trader
RUN chown -R trader:trader /app
USER trader

# í¬íŠ¸ ë…¸ì¶œ
EXPOSE 8000 8001

# ê¸°ë³¸ ëª…ë ¹ì–´
CMD ["python", "-m", "src.app", "run", "--paper"]
```

### docker-compose.yml
```yaml
version: '3.8'

services:
  trading-app:
    build: .
    container_name: upbit-trading
    restart: unless-stopped
    environment:
      - ENV=production
    env_file:
      - .env
    volumes:
      - ./runtime:/app/runtime
      - ./configs:/app/configs:ro
    ports:
      - "8000:8000"
      - "8001:8001"
    healthcheck:
      test: ["CMD", "python", "-c", "import requests; requests.get('http://localhost:8000/health')"]
      interval: 30s
      timeout: 10s
      retries: 3
    
  redis:
    image: redis:7-alpine
    container_name: trading-redis
    restart: unless-stopped
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    
  nginx:
    image: nginx:alpine
    container_name: trading-nginx
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./ssl:/etc/ssl:ro
    depends_on:
      - trading-app

volumes:
  redis_data:
```

## ğŸ“‹ ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸

### scripts/backup.sh
```bash
#!/bin/bash
# ë°ì´í„° ë°±ì—… ìŠ¤í¬ë¦½íŠ¸

DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="backups"
BACKUP_FILE="trading_backup_${DATE}.tar.gz"

mkdir -p "$BACKUP_DIR"

echo "ğŸ”„ ë°±ì—… ì‹œì‘: $DATE"

# ëŸ°íƒ€ì„ ë°ì´í„° ë°±ì—…
tar -czf "${BACKUP_DIR}/${BACKUP_FILE}" \
    runtime/reports \
    runtime/data \
    configs/config.yaml \
    .env

echo "âœ… ë°±ì—… ì™„ë£Œ: ${BACKUP_DIR}/${BACKUP_FILE}"

# 30ì¼ ì´ìƒ ëœ ë°±ì—… íŒŒì¼ ì‚­ì œ
find "$BACKUP_DIR" -name "trading_backup_*.tar.gz" -mtime +30 -delete

echo "ğŸ—‘ï¸  ì˜¤ë˜ëœ ë°±ì—… íŒŒì¼ ì •ë¦¬ ì™„ë£Œ"
```

### scripts/deploy.sh
```bash
#!/bin/bash
# ë°°í¬ ìŠ¤í¬ë¦½íŠ¸

ENVIRONMENT=${1:-staging}
DOCKER_IMAGE="upbit-trading:latest"

echo "ğŸš€ $ENVIRONMENT í™˜ê²½ ë°°í¬ ì‹œì‘"

# ì´ë¯¸ì§€ ë¹Œë“œ
echo "ğŸ“¦ Docker ì´ë¯¸ì§€ ë¹Œë“œ ì¤‘..."
docker build -t "$DOCKER_IMAGE" .

# ê¸°ì¡´ ì»¨í…Œì´ë„ˆ ì¤‘ì§€
echo "ğŸ›‘ ê¸°ì¡´ ì„œë¹„ìŠ¤ ì¤‘ì§€ ì¤‘..."
docker-compose down

# ë°±ì—… ìƒì„±
echo "ğŸ’¾ ë°°í¬ ì „ ë°±ì—… ìƒì„± ì¤‘..."
./scripts/backup.sh

# ìƒˆ ì„œë¹„ìŠ¤ ì‹œì‘
echo "ğŸ”„ ìƒˆ ì„œë¹„ìŠ¤ ì‹œì‘ ì¤‘..."
docker-compose up -d

# í—¬ìŠ¤ì²´í¬
echo "ğŸ¥ ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸ ì¤‘..."
sleep 10

if curl -f http://localhost:8000/health > /dev/null 2>&1; then
    echo "âœ… ë°°í¬ ì„±ê³µ: $ENVIRONMENT"
else
    echo "âŒ ë°°í¬ ì‹¤íŒ¨: í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨"
    exit 1
fi
```

## ğŸ” ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

### ë¡œê·¸ ê´€ë¦¬
- **êµ¬ì¡°í™”ëœ JSON ë¡œê·¸**: íŒŒì‹± ë° ë¶„ì„ ìš©ì´
- **ë¡œê·¸ ë ˆë²¨**: DEBUG, INFO, WARNING, ERROR, CRITICAL
- **ë¡œê·¸ ë¡œí…Œì´ì…˜**: ì¼ì¼ ë‹¨ìœ„ ì••ì¶• ë° ë³´ê´€
- **ì—ëŸ¬ ì•Œë¦¼**: ì¤‘ìš” ì˜¤ë¥˜ ë°œìƒ ì‹œ Slack/Email ì•Œë¦¼

### ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- **ê±°ë˜ ì„±ê³¼**: ìŠ¹ë¥ , í‰ê·  R, ê¸°ëŒ€ê°’
- **ì‹œìŠ¤í…œ ìƒíƒœ**: CPU, ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬
- **API ì‚¬ìš©ëŸ‰**: ìš”ì²­ ìˆ˜, ì‘ë‹µ ì‹œê°„, ì—ëŸ¬ìœ¨

ì´ í‘œì¤€ì„ ì¤€ìˆ˜í•˜ì—¬ ì²´ê³„ì ì´ê³  ê´€ë¦¬ ê°€ëŠ¥í•œ íŠ¸ë ˆì´ë”© ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ì„¸ìš”.